<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>1ページ | 母子健康手帳</title>
  <link href="/css/style.css" th:href="@{/css/style.css}" rel="stylesheet"></link>
  <link href="/img/favicon.png" th:href="@{/img/favicon.png}" rel="icon">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
</head>
<body>
  <h1>母子健康手帳 | 妊婦の健康状態 | 編集画面</h1>

  <div th:each="editHeathStatus : ${editHeathStatusList}">
    <form th:method="post" th:action="@{/authorityUsers/editPregnancyHealthReference/update}">
      <dl>
        <dd>
          <input type="hidden" id="serial_no" name="serial_no" th:value="${editHeathStatus.serial_no}">
        </dd>
        <dt><label for="user_height">身長</label></dt>
        <dd>
          <input type="number" id="user_height" name="height" th:value="${editHeathStatus.height}">㎝
        </dd>
        <dt><label for="weight">体重</label></dt>
        <dd>
          <input type="number" id="weight" name="weight" th:value="${editHeathStatus.weight}">㎏
        </dd>
        <dt>BMI</dt>
        <p><input type="button" onclick="calc(user_height.value, weight.value);" value="計算">（※身長・体重を入力のうえ、「計算」ボタンを押下しBMI値を算出してください。）</p>
        <dd>
          <input type="text" id="bmi" name="bmi" readonly="" th:value="${editHeathStatus.bmi}">
        </dd>
        <dt>罹患歴_高血圧</dt>
        <dd>
          <ul>
            <label>
              <input type="radio" 
              id="sickening_history_high_blood_pressure" name="sickening_history_high_blood_pressure"
              th:value="0" 
              th:checked="${editHeathStatus.sickening_history_high_blood_pressure == 0}">かかったことはない
            </label>
            <label>
              <input type="radio" 
              id="sickening_history_high_blood_pressure" name="sickening_history_high_blood_pressure" 
              th:value="1"
              th:checked="${editHeathStatus.sickening_history_high_blood_pressure == 1}">かかったことがある
            </label>
          </ul>
        </dd>
        <dt>罹患歴_腎臓病</dt>
        <dd>
          <ul>
            <label>
              <input type="radio" 
              id="sickening_history_kidney_disease" name="sickening_history_kidney_disease"
              th:value="0" 
              th:checked="${editHeathStatus.sickening_history_kidney_disease == 0}">かかったことはない
            </label>
            <label>
              <input type="radio" 
              id="sickening_history_kidney_disease" name="sickening_history_kidney_disease" 
              th:value="1"
              th:checked="${editHeathStatus.sickening_history_kidney_disease == 1}">かかったことがある
            </label>
          </ul>
        </dd>
        <dt>罹患歴_糖尿病</dt>
        <dd>
          <ul>
            <label>
              <input type="radio" 
              id="sickening_history_diabetes" name="sickening_history_diabetes"
              th:value="0" 
              th:checked="${editHeathStatus.sickening_history_diabetes == 0}">かかったことはない
            </label>
            <label>
              <input type="radio" 
              id="sickening_history_diabetes" name="sickening_history_diabetes" 
              th:value="1"
              th:checked="${editHeathStatus.sickening_history_diabetes == 1}">かかったことがある
            </label>
          </ul>
        </dd>
        <dt>罹患歴_肺炎</dt>
        <dd>
          <ul>
            <label>
              <input type="radio" 
              id="sickening_history_pneumonia" name="sickening_history_pneumonia"
              th:value="0" 
              th:checked="${editHeathStatus.sickening_history_pneumonia == 0}">かかったことはない
            </label>
            <label>
              <input type="radio" 
              id="sickening_history_pneumonia" name="sickening_history_pneumonia" 
              th:value="1"
              th:checked="${editHeathStatus.sickening_history_pneumonia == 1}">かかったことがある
            </label>
          </ul>
        </dd>
        <dt>罹患歴_心臓病</dt>
        <dd>
          <ul>
            <label>
              <input type="radio" 
              id="sickening_history_cardiac_disease" name="sickening_history_cardiac_disease"
              th:value="0" 
              th:checked="${editHeathStatus.sickening_history_cardiac_disease == 0}">かかったことはない
            </label>
            <label>
              <input type="radio" 
              id="sickening_history_cardiac_disease" name="sickening_history_cardiac_disease" 
              th:value="1"
              th:checked="${editHeathStatus.sickening_history_cardiac_disease == 1}">かかったことがある
            </label>
          </ul>
        </dd>
        <dt>罹患歴_甲状腺</dt>
        <dd>
          <ul>
            <label>
              <input type="radio" 
              id="sickening_history_thyroid" name="sickening_history_thyroid"
              th:value="0" 
              th:checked="${editHeathStatus.sickening_history_thyroid == 0}">かかったことはない
            </label>
            <label>
              <input type="radio" 
              id="sickening_history_thyroid" name="sickening_history_thyroid" 
              th:value="1"
              th:checked="${editHeathStatus.sickening_history_thyroid == 1}">かかったことがある
            </label>
          </ul>
        </dd>
        <dt>罹患歴_精神疾患</dt>
        <dd>
          <ul>
            <label>
              <input type="radio" 
              id="sickening_history_mental_disorder" name="sickening_history_mental_disorder"
              th:value="0" 
              th:checked="${editHeathStatus.sickening_history_mental_disorder == 0}">かかったことはない
            </label>
            <label>
              <input type="radio" 
              id="sickening_history_mental_disorder" name="sickening_history_mental_disorder" 
              th:value="1"
              th:checked="${editHeathStatus.sickening_history_mental_disorder == 1}">かかったことがある
            </label>
          </ul>
        </dd>
        <dt><label for="sickening_history_other">罹患歴_その他</label></dt>
        <dd>
          <input type="text" id="sickening_history_other" name="sickening_history_other" th:value="${editHeathStatus.sickening_history_other}">
        </dd>
        <dt>感染症歴_風疹</dt>
        <dd>
          <ul>
            <label>
              <input type="radio" 
              id="infection_history_rubella" name="infection_history_rubella"
              th:value="0" 
              th:checked="${editHeathStatus.infection_history_rubella == 0}">なし（予防接種も受けていない）
            </label>
            <label>
              <input type="radio" 
              id="infection_history_rubella" name="infection_history_rubella" 
              th:value="1"
              th:checked="${editHeathStatus.infection_history_rubella == 1}">なし（予防接種は受けている）
            </label>
            <label>
              <input type="radio" 
              id="infection_history_rubella" name="infection_history_rubella" 
              th:value="1"
              th:checked="${editHeathStatus.infection_history_rubella == 2}">あり（予防接種は受けていない）
            </label>
            <label>
              <input type="radio" 
              id="infection_history_rubella" name="infection_history_rubella" 
              th:value="1"
              th:checked="${editHeathStatus.infection_history_rubella == 3}">あり（予防接種も受けている）
            </label>
          </ul>
        </dd>
        <dt>感染症歴_麻疹</dt>
        <dd>
          <ul>
            <label>
              <input type="radio" 
              id="infection_history_measles" name="infection_history_measles"
              th:value="0" 
              th:checked="${editHeathStatus.infection_history_measles == 0}">なし（予防接種も受けていない）
            </label>
            <label>
              <input type="radio" 
              id="infection_history_measles" name="infection_history_measles" 
              th:value="1"
              th:checked="${editHeathStatus.infection_history_measles == 1}">なし（予防接種は受けている）
            </label>
            <label>
              <input type="radio" 
              id="infection_history_measles" name="infection_history_measles" 
              th:value="1"
              th:checked="${editHeathStatus.infection_history_measles == 2}">あり（予防接種は受けていない）
            </label>
            <label>
              <input type="radio" 
              id="infection_history_measles" name="infection_history_measles" 
              th:value="1"
              th:checked="${editHeathStatus.infection_history_measles == 3}">あり（予防接種も受けている）
            </label>
          </ul>
        </dd>
        <dt>感染症歴_水痘</dt>
        <dd>
          <ul>
            <label>
              <input type="radio" 
              id="infection_history_chickenpox" name="infection_history_chickenpox"
              th:value="0" 
              th:checked="${editHeathStatus.infection_history_chickenpox == 0}">なし（予防接種も受けていない）
            </label>
            <label>
              <input type="radio" 
              id="infection_history_chickenpox" name="infection_history_chickenpox" 
              th:value="1"
              th:checked="${editHeathStatus.infection_history_chickenpox == 1}">なし（予防接種は受けている）
            </label>
            <label>
              <input type="radio" 
              id="infection_history_chickenpox" name="infection_history_chickenpox" 
              th:value="1"
              th:checked="${editHeathStatus.infection_history_chickenpox == 2}">あり（予防接種は受けていない）
            </label>
            <label>
              <input type="radio" 
              id="infection_history_chickenpox" name="infection_history_chickenpox" 
              th:value="1"
              th:checked="${editHeathStatus.infection_history_chickenpox == 3}">あり（予防接種も受けている）
            </label>
          </ul>
        </dd>
        <dt>手術歴について</dt>
        <dd>
          <ul>
            <label>
              <input type="radio" 
              id="surgery_history_flag" name="surgery_history_flag"
              th:value="0" 
              th:checked="${editHeathStatus.surgery_history_flag == 0}">受けたことはない
            </label>
            <label>
              <input type="radio" 
              id="surgery_history_flag" name="surgery_history_flag" 
              th:value="1"
              th:checked="${editHeathStatus.surgery_history_flag == 1}">受けたことがある
            </label>
          </ul>
        </dd>
        <dt>手術を受けた病名について</dt>
        <dd>
          <input type="text" id="surgery_history_type" name="surgery_history_type" th:value="${editHeathStatus.surgery_history_type}">
        </dd>
        <dt>服薬中の薬（常用薬）</dt>
        <dd>
          <input type="text" id="regular_use_drug" name="regular_use_drug" th:value="${editHeathStatus.regular_use_drug}">
        </dd>
        <dt>薬剤や食品などのアレルギー</dt>
        <dd>
          <input type="text" id="allergy_type" name="allergy_type" th:value="${editHeathStatus.allergy_type}">
        </dd>
        <dt>家庭や仕事など日常生活で強いストレスを感じていますか。</dt>
        <dd>
          <ul>
            <label>
              <input type="radio" 
              id="stress_flag" name="stress_flag"
              th:value="0" 
              th:checked="${editHeathStatus.stress_flag == 0}">いいえ
            </label>
            <label>
              <input type="radio" 
              id="stress_flag" name="stress_flag" 
              th:value="1"
              th:checked="${editHeathStatus.stress_flag == 1}">はい
            </label>
          </ul>
        </dd>
        <dt>今回の妊娠に際し、心配なことはありますか。</dt>
        <dd>
          <ul>
            <label>
              <input type="radio" 
              id="worry_flag" name="worry_flag"
              th:value="0" 
              th:checked="${editHeathStatus.worry_flag == 0}">いいえ
            </label>
            <label>
              <input type="radio" 
              id="worry_flag" name="worry_flag" 
              th:value="1"
              th:checked="${editHeathStatus.worry_flag == 1}">はい
            </label>
          </ul>
        </dd>
        <dt>どんなことが心配ですか。</dt>
        <dd>
          <input type="text" id="worry_other" name="worry_other" th:value="${editHeathStatus.worry_other}">
        </dd>
        <dt>これまでにタバコを吸ったことがありますか。</dt>
        <dd>
          <ul>
            <label>
              <input type="radio" 
              id="smoking_flag" name="smoking_flag"
              th:value="0" 
              th:checked="${editHeathStatus.smoking_flag == 0}">ない
            </label>
            <label>
              <input type="radio" 
              id="smoking_flag" name="smoking_flag" 
              th:value="1"
              th:checked="${editHeathStatus.smoking_flag == 1}">ある
            </label>
          </ul>
        </dd>
        <dt>喫煙状況について</dt>
        <dd>
          <input type="text" id="smoking_status" name="smoking_status" th:value="${editHeathStatus.smoking_status}">
        </dd>
        <dt>同居者の喫煙状況について</dt>
        <dd>
          <input type="text" id="smoking_status_living_together_person" name="smoking_status_living_together_person" th:value="${editHeathStatus.smoking_status_living_together_person}">
        </dd>
        <dt>これまでにお酒を飲んだことがありますか。</dt>
        <dd>
          <ul>
            <label>
              <input type="radio" 
              id="drinking_flag" name="drinking_flag"
              th:value="0" 
              th:checked="${editHeathStatus.drinking_flag == 0}">ない
            </label>
            <label>
              <input type="radio" 
              id="drinking_flag" name="drinking_flag" 
              th:value="1"
              th:checked="${editHeathStatus.drinking_flag == 1}">ある
            </label>
          </ul>
        </dd>
        <dt>飲酒状況について</dt>
        <dd>
          <input type="text" id="drinking_status" name="drinking_status" th:value="${editHeathStatus.drinking_status}">
        </dd>
        <dt>夫・パートナーは健康ですか。</dt>
        <dd>
          <ul>
            <label>
              <input type="radio" 
              id="partner_health_flag" name="partner_health_flag"
              th:value="0" 
              th:checked="${editHeathStatus.partner_health_flag == 0}">健康
            </label>
            <label>
              <input type="radio" 
              id="partner_health_flag" name="partner_health_flag" 
              th:value="1"
              th:checked="${editHeathStatus.partner_health_flag == 1}">よくない
            </label>
          </ul>
        </dd>
        <dt>夫・パートナーの健康状態について（病名など）</dt>
        <dd>
          <input type="text" id="partner_health_state" name="partner_health_state" th:value="${editHeathStatus.partner_health_state}">
        </dd>
        <input type="submit" value="更新" />
      </dl>
    </form>

  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous">
  </script>
  <script>
      function calc(height, weight) {
      const bmi_value = document.getElementById('bmi').value = Math.round(weight / ( height / 100 ) / ( height / 100 ) * 100) / 100;
    }
  </script>

</body>
</html>